 const minDot=document.getElementById('minDot');
 const sheet=document.getElementById('sheet');
 let sheetMinimized=false;
 let sheetRestoreIcon=null;
 let limboAudio=null;
 let limboAudioStarted=false;

 function ensureLimboAudio(){
 try{
 if(limboAudio) return limboAudio;
 const resolved=new URL('../../limbo.mp3', window.location.href).href;
 limboAudio=new Audio(resolved);
 limboAudio.loop=true;
 limboAudio.volume=0.6;
 return limboAudio;
 }catch(error){
 console.warn('limbo.mp3 initialization failed', error);
 limboAudio=null;
 return null;
 }
 }

 function startLimboAudio(){
 const audio=ensureLimboAudio();
 if(!audio) return;
 try{
 audio.currentTime=0;
 const playPromise=audio.play();
 console.log('ðŸŽµ Starting limbo.mp3 soundtrack');
 if(playPromise?.catch){
 playPromise.catch(err=>{
 console.warn('limbo.mp3 playback rejected', err);
 });
 }
 }catch(error){
 console.warn('limbo.mp3 playback failed', error);
 }
 }
 const oldCollapse = UI.triggerIntroCollapse;
 UI.triggerIntroCollapse = function(){
 const r = oldCollapse?.call(UI);
 if(!limboAudioStarted){
 limboAudioStarted=true;
 startLimboAudio();
 }
 showMinDot();
 updateSheetRestoreIcon();
 return r;
 };
